# Generated by Django 3.2.6 on 2021-09-19 12:37

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('app', '0004_remove_orderlog_additional_info'),
    ]

    operations = [
        migrations.CreateModel(
            name='Log',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('event', models.PositiveSmallIntegerField(choices=[('1', 'Created'), ('2', 'Started'), ('3', 'Requested for set payment date'), ('4', 'Payment date was set'), ('5', 'Requested for approval of the board'), ('6', 'Accepted by the board'), ('7', 'Finished'), ('8', 'Rejected'), ('9', 'Planning end date was set'), ('10', 'Logistic end date was set'), ('11', 'Transport end date was set'), ('12', 'Process end date was set'), ('13', 'Complaint end date was set')])),
                ('recorded_time', models.DateTimeField(auto_now_add=True)),
                ('deadline', models.DateField(blank=True, null=True)),
            ],
        ),
        migrations.RenameModel(
            old_name='OrderComment',
            new_name='Comment',
        ),
        migrations.AlterField(
            model_name='order',
            name='origin',
            field=models.PositiveSmallIntegerField(choices=[('1', 'City'), ('2', 'Country'), ('3', 'Abroad')]),
        ),
        migrations.AlterField(
            model_name='order',
            name='priority',
            field=models.PositiveSmallIntegerField(choices=[('1', 'Low'), ('2', 'Middle'), ('3', 'High')], default='1'),
        ),
        migrations.AlterField(
            model_name='order',
            name='stage',
            field=models.PositiveSmallIntegerField(blank=True, choices=[('1', 'In planning'), ('2', 'Is logistic'), ('3', 'In transport'), ('4', 'Process is done'), ('5', 'In complaint')], null=True),
        ),
        migrations.AlterField(
            model_name='order',
            name='status',
            field=models.PositiveSmallIntegerField(choices=[('1', 'New'), ('2', 'Processing'), ('3', 'Processing (await for approval of the board)'), ('4', 'Await for the payment date'), ('5', 'Rejected'), ('6', 'Finished')], default='1'),
        ),
        migrations.DeleteModel(
            name='OrderLog',
        ),
        migrations.AddField(
            model_name='log',
            name='order',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='logs', to='app.order'),
        ),
    ]
